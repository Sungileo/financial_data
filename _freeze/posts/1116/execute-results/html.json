{
  "hash": "f13dff64b72e7851f8a7e76a50f1ed76",
  "result": {
    "markdown": "---\ntitle: \"상대도\"\ndate: \"2023/11/16\"\nauthor: \"Sungil Park\"\ndescription: \"2023-2학기 R로 하는 금융데이터분석\"\n---\n\n\n\n\n## 데이터 로드\n\n\n::: {.cell}\n\n```{.r .cell-code}\nproject_data <- read.csv(\"contents/프로젝트자료.csv\")\n\nproject_data <- project_data %>%  \n  mutate(\n    GAI_COD = factor(GAI_COD),\n    차종 = as.factor(case_when(\n      car_knd %in% c(\"1A\", \"1E\") ~ \"소형\",\n      car_knd %in% c(\"1F\", \"1G\", \"1H\") ~ \"준중형\",\n      car_knd %in% c(\"1L\", \"1M\", \"1N\") ~ \"중형\",\n      car_knd %in% c(\"1P\", \"29\") ~ \"대형\",\n      TRUE ~ \"SUB/VAN\")))\n```\n:::\n\n\n## 빈도, 심도, 순보험료\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmyfunc_1 <- function(df,y) {\n  in1_bin <- sum(df$in1_los != 0) / nrow(df)\n  mul_bin <- sum(df$mul_los != 0) / nrow(df)\n  jas_bin <- sum(df$jas_los != 0) / nrow(df)\n  cha_bin <- sum(df$cha_los != 0) / nrow(df)\n\n  in1_dep <- sum(df$in1_los) / sum(df$in1_los != 0)\n  mul_dep <- sum(df$mul_los) / sum(df$mul_los != 0)\n  jas_dep <- sum(df$jas_los) / sum(df$jas_los != 0)\n  cha_dep <- sum(df$cha_los) / sum(df$cha_los != 0)\n  \n  in1_sun <- in1_bin*in1_dep\n  mul_sun <- mul_bin*mul_dep\n  jas_sun <- jas_bin*jas_dep\n  cha_sun <- cha_bin*cha_dep\n  \n  result_df <- data.frame(value = c(in1_bin, mul_bin, jas_bin, cha_bin, in1_dep, mul_dep, jas_dep, cha_dep,in1_sun, mul_sun, jas_sun, cha_sun))\n  rownames(result_df) <- c(\"대인빈도\",\"대물빈도\",\"자손빈도\",\"자차빈도\",\"대인심도\",\"대물심도\",\"자손심도\",\"자차심도\",\"대인순보\",\"대물순보\",\"자손순보\",\"자차순보\")\n  colnames(result_df) <- y\n  return(result_df)\n}\n```\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"datatables html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-1319be08d93af42abfde\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1319be08d93af42abfde\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"대인빈도\",\"대물빈도\",\"자손빈도\",\"자차빈도\",\"대인심도\",\"대물심도\",\"자손심도\",\"자차심도\",\"대인순보\",\"대물순보\",\"자손순보\",\"자차순보\"],[0.02171985815602837,0.06161347517730496,0.006205673758865249,0.2734929078014184,5366818.979591837,1222076.762589928,1081013.571428571,908856.4991896272,116566.5469858156,75296.39627659574,6708.417553191489,248565.8067375887],[0.0205607476635514,0.06728971962616823,0.001869158878504673,0.3271028037383177,1440490,1520054.722222222,367710,910042.8,29617.55140186916,102284.0560747664,687.3084112149533,297677.5514018692],[0,0.1666666666666667,0,0.8333333333333334,null,237200,null,212094,null,39533.33333333333,null,176745],[0.01538461538461539,0.03076923076923077,0.01538461538461539,0.3076923076923077,5402840,1221185,1417210,1155746,83120.61538461539,37574.92307692308,21803.23076923077,355614.1538461539],[0.0576923076923077,0.1153846153846154,0,0.2692307692307692,1046553.333333333,1183188.333333333,null,3108533.571428571,60378.07692307693,136521.7307692308,null,836912.8846153845],[0,0.05494505494505494,0,0.3296703296703297,null,2090452,null,862883.6666666666,null,114860,null,284467.1428571428],[0.03076923076923077,0.07692307692307693,0,0.4,1152670,2191802,null,740793.4615384615,35466.76923076923,168600.1538461538,null,296317.3846153846],[0.01351351351351351,0.02702702702702703,0,0.2297297297297297,140110,3727500,null,610847.0588235294,1893.378378378379,100743.2432432433,null,140329.7297297297],[0.0375,0.05,0,0.3375,1898740,1210480,null,2115336.296296296,71202.75,60524,null,713926],[0.0216010165184244,0.06353240152477764,0.005929690808979246,0.277424819991529,5145607.25490196,1207358.333333333,1006049.285714286,827349.572519084,111150.3473104617,76706.37441761965,5965.561202880135,229527.3062261754],[0.03296703296703297,0.04395604395604396,0,0.1813186813186813,1340416.666666667,819775,null,775281.8181818182,44189.56043956045,36034.06593406594,null,140573.0769230769],[0.01920438957475995,0.05761316872427984,0.01097393689986282,0.2469135802469136,7131054.285714285,1048251.190476191,726227.5,715129.3888888889,136947.5445816187,60393.07270233196,7969.57475994513,176575.1577503429],[0.02495201535508637,0.07293666026871401,0.003838771593090211,0.3742802303262956,1606591.538461538,1051098.157894737,646645,1448345.128205128,40087.69673704414,76663.58925143954,2482.322456813819,542086.9481765835],[0.01849405548216645,0.0607661822985469,0.003963011889035667,0.2800528401585205,1674342.857142857,1301056.086956522,1680150,787413.820754717,30965.38969616909,79060.21136063409,6658.454425363276,220517.4768824307],[0.02314049586776859,0.06776859504132231,0.003305785123966942,0.2876033057851239,9064742.142857144,1810136.097560976,1679170,681539.2528735632,209762.6280991736,122670.3801652892,5550.97520661157,196012.9421487603]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>PIB_SEX_1<\\/th>\\n      <th>PIB_SEX_2<\\/th>\\n      <th>GAI_COD_1<\\/th>\\n      <th>GAI_COD_2<\\/th>\\n      <th>GAI_COD_3<\\/th>\\n      <th>GAI_COD_4<\\/th>\\n      <th>GAI_COD_5<\\/th>\\n      <th>GAI_COD_6<\\/th>\\n      <th>GAI_COD_7<\\/th>\\n      <th>GAI_COD_8<\\/th>\\n      <th>차종_소형<\\/th>\\n      <th>차종_준중형<\\/th>\\n      <th>차종_중형<\\/th>\\n      <th>차종_대형<\\/th>\\n      <th>차종_SUB/VAN<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},{\"orderable\":false,\"targets\":0}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n-----\n\n## 성별 상대도\n\n - 남자 상대도 1\n\n\n::: {.cell}\n::: {.cell-output-display}\n|     | PIB_SEX_1| PIB_SEX_2|\n|:----|---------:|---------:|\n|대인 |         1| 0.2540828|\n|대물 |         1| 1.3584190|\n|자손 |         1| 0.1024546|\n|자차 |         1| 1.1975805|\n:::\n:::\n\n\n## 가입경력별 상대도\n\n - 가입경력 8년 상대도 1\n\n\n::: {.cell}\n::: {.cell-output-display}\n|     | GAI_COD_1| GAI_COD_2| GAI_COD_3| GAI_COD_4| GAI_COD_5| GAI_COD_6| GAI_COD_7| GAI_COD_8|\n|:----|---------:|---------:|---------:|---------:|---------:|---------:|---------:|---------:|\n|대인 |       NaN| 0.7478215| 0.5432109|       NaN| 0.3190882| 0.0170344| 0.6405985|         1|\n|대물 | 0.5153852| 0.4898540| 1.7797964|  1.497398| 2.1979940| 1.3133621| 0.7890348|         1|\n|자손 |       NaN| 3.6548499|       NaN|       NaN|       NaN|       NaN|       NaN|         1|\n|자차 | 0.7700391| 1.5493327| 3.6462454|  1.239361| 1.2909897| 0.6113858| 3.1104186|         1|\n:::\n:::\n\n\n## 차종별 상대도\n\n - 차종 대형 상대도 1\n\n\n::: {.cell}\n::: {.cell-output-display}\n|     | 차종_소형| 차종_준중형| 차종_중형| 차종_대형| 차종_SUB/VAN|\n|:----|---------:|-----------:|---------:|---------:|------------:|\n|대인 | 1.4270630|   4.4226004| 1.2945969|         1|    6.7740994|\n|대물 | 0.4557800|   0.7638871| 0.9696861|         1|    1.5516070|\n|자손 |       NaN|   1.1969106| 0.3728076|         1|    0.8336732|\n|자차 | 0.6374691|   0.8007309| 2.4582494|         1|    0.8888771|\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<link href=\"../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/datatables-binding-0.30/datatables.js\"></script>\n<script src=\"../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../site_libs/dt-core-1.13.4/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../site_libs/dt-core-1.13.4/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dt-core-1.13.4/js/jquery.dataTables.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}